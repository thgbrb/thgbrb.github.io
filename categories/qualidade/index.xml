<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Qualidade on λ JogaNaContaDaInfra</title>
        <link>https://joganacontadainfra.com.br/categories/qualidade/</link>
        <description>Recent content in Qualidade on λ JogaNaContaDaInfra</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>pt-br</language>
        <lastBuildDate>Thu, 08 Jul 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://joganacontadainfra.com.br/categories/qualidade/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Boas práticas em commits</title>
        <link>https://joganacontadainfra.com.br/p/boas-praticas-em-commits/</link>
        <pubDate>Thu, 08 Jul 2021 00:00:00 +0000</pubDate>
        
        <guid>https://joganacontadainfra.com.br/p/boas-praticas-em-commits/</guid>
        <description>&lt;img src="https://joganacontadainfra.com.br/p/boas-praticas-em-commits/featured.jpg" alt="Featured image of post Boas práticas em commits" /&gt;&lt;p&gt;Durante um apoio a projeto me deparei com o seguinte cenário quando acessei git log:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;391a8dad Elaboração dos contadores de performance para os comando da Api Pedidos
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;fdde9224 Merge branch &amp;#39;release/v8.0.3&amp;#39; of https://dev.azure.com/XXXXXXXXXXXXXX/v8.0.3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3c2b525f publicações
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;a3cb5825 merge apresentação da url do boleto com o desconto do cupom frete enviado ao ax
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;f9852c90 ajuste para mandar o valor de desconto do cupom tipo frete correto ao ax
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;64785991 Pedidos: Exibindo o link do Pdf no nó de boleto de cobrança + XXXXXX.Produtos: ajuste no nome de um dos eventos do contador de performance + XXXXXX.YYYYYYYY: exibição do link do Pdf do boleto
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;c9c79c0d publicaçoes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;07570cf7 CatalogoDeProdutos: CatalogoDeProdutosPerformanceMonitor herda a interface IPerformanceMonitor
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;f113e074 Conflict resolution
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;424246b0 Update azure-pipelines-unit.yml for Azure Pipelines
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;d0e870bd Update azure-pipelines-unit.yml for Azure Pipelines
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;8c5255d2 Update azure-pipelines-unit.yml for Azure Pipelines
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;7fdf5e97 Update azure-pipelines-unit.yml for Azure Pipelines
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;A situação do histórico era tão caótica que era quase impossível entender qual o propósito de um commit,
tornando inútil a sua descrição. A história daquele fonte estava muito mal contada e é aí que está o problema.
Quando era necessário entender a implementação de uma regra de negócio ou o que motivou as alterações no código não existia contexto,
não existia história.
Uma sequência de commits com o mesmo título &amp;ldquo;Update azure-pipelines-unit.yml for Azure Pipelines&amp;rdquo; não deixa claro o motivo da alteração.
Apenas sabemos que ocorreu uma sequência de alterações em um arquivo.&lt;/p&gt;
&lt;p&gt;A falta de relação do commit com uma issue em uma ferramenta ALM contribuía para a falta de contexto. Em algumas situações
era necessário recorrer ao time de negócio para resgatar o histórico que motivou a alteração de uma regra de negócio.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Os commits em um repositório git contam uma história, a história de vida de um código. Eles descrevem o que motivou a fazer
as alterações que foram feitas de uma forma muito clara, mantendo o histórico e apoiando os futuros desenvolvedores.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Um commit bem escrito é dividido em duas partes, o assunto com no máximo 50 caracteres e que de forma imperativa expressa
a sua intenção e um body que descreve o porquê do commit. Um bom commit também faz referência ou está vinculado a uma issue
que contextualiza o commit. No exemplo abaixo, é possível verificar algumas boas práticas na escrita de commits aplicadas no
repositório do Erlang.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;21b7ad04ce Clarify the asynchronousness of signal reception
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;5b762b79a4 erts: Document hibernate resume function must be exported
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;18e9843e44 Improve receive docs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;410b279d41 erts: Fix super alignment in etp-commands
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;f0ae5f12d6 erts: Short circuit immediates in match spec compiler
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;220a46789e erts: Micro optimize arityval -&amp;gt; make_arityval
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;f12067111a erts: Silence harmless compiler warnings
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;68cfb519ca erts: Optimize erts_qsort_partion_array
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;e01cfccd2f crypto: Test generated EC private key length
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;18fa73579d dialyzer: Do not expose line number 0 in message locations
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;O projeto Erlang possui uma qualidade alta na escrita de seus commits. No exemplo abaixo o assunto demonstra a intenção e
no body o porquê.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/erlang/otp/commit/a65d0d571c13d632eed9b0a6b61052c1b4b758bb&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Exemplo de um commit com boas práticas&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Don&amp;#39;t keep a stacktrace longer than necessary
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;After an exception had been caught, the stacktrace (`p-&amp;gt;ftrace`) would
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;be retained in the process until another exception occurred.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;While at it, also clear the exception term (`p-&amp;gt;fvalue`) in the common
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;error handling code instead of in the code for `try_case` in each module
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;guia-de-boas-práticas&#34;&gt;Guia de Boas Práticas
&lt;/h2&gt;&lt;p&gt;Mais do que uma simples descrição, as boas práticas na escrita de commit servem para apoiar o processo de revisão,
contribuir para um release notes rico e ajudar os futuros desenvolvedores.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;O commit é composto por um &lt;strong&gt;assunto&lt;/strong&gt; e um &lt;strong&gt;body&lt;/strong&gt; &lt;sup&gt;&lt;em&gt;opcional&lt;/em&gt;&lt;/sup&gt;.&lt;/li&gt;
&lt;li&gt;Sempre mantenha uma linha em branco entre o assunto e body quando existir um.&lt;/li&gt;
&lt;li&gt;Não utilize ponto final no final do assunto.&lt;/li&gt;
&lt;li&gt;Mantenha o assunto com no máximo 50 caracteres.&lt;/li&gt;
&lt;li&gt;Utilize o body para &lt;strong&gt;explicar&lt;/strong&gt; o que foi feito ao invés de &lt;strong&gt;como&lt;/strong&gt; foi feito.&lt;/li&gt;
&lt;li&gt;Dê preferência para uma linguagem imperativa no assunto.&lt;/li&gt;
&lt;li&gt;Relacione as issues no final do body.&lt;/li&gt;
&lt;li&gt;Conheça o git (squash é um excelente exemplo).&lt;/li&gt;
&lt;li&gt;Respeite os padrões acordados com o time.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://git-scm.com/book/en/v2/Distributed-Git-Contributing-to-a-Project&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Para mais informações acesse o git book.&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
</description>
        </item>
        
    </channel>
</rss>
